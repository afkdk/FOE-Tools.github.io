(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{375:function(t,e,r){"use strict";e.a={NoAge:{key:"NoAge",index:0},BronzeAge:{key:"BronzeAge",index:1},IronAge:{key:"IronAge",index:2},EarlyMiddleAges:{key:"EarlyMiddleAges",index:3},HighMiddleAges:{key:"HighMiddleAges",index:4},LateMiddleAges:{key:"LateMiddleAges",index:5},ColonialAge:{key:"ColonialAge",index:6},IndustrialAge:{key:"IndustrialAge",index:7},ProgressiveEra:{key:"ProgressiveEra",index:8},ModernEra:{key:"ModernEra",index:9},PostmodernEra:{key:"PostmodernEra",index:10},ContemporaryEra:{key:"ContemporaryEra",index:11},Tomorrow:{key:"Tomorrow",index:12},TheFuture:{key:"TheFuture",index:13},ArcticFuture:{key:"ArcticFuture",index:14},OceanicFuture:{key:"OceanicFuture",index:15},VirtualFuture:{key:"VirtualFuture",index:16},SpaceAgeMars:{key:"SpaceAgeMars",index:17},SpaceAgeAsteroidBelt:{key:"SpaceAgeAsteroidBelt",index:18}}},416:function(t,e,r){"use strict";r.d(e,"e",(function(){return ca})),r.d(e,"c",(function(){return fa})),r.d(e,"b",(function(){return ya})),r.d(e,"d",(function(){return ma})),r.d(e,"a",(function(){return ga}));r(41),r(19),r(31),r(37),r(88);var o=r(4),n=(r(27),r(16),r(30),r(21),r(22),r(10),r(111),r(7)),l=r(35),d=r(25),h=r(9),c=r(82),f=r(726),y=r.n(f),m=r(375),v=r(0),_=m.a.BronzeAge.key,k=(v.duration({minutes:30}),r(0)),$=m.a.BronzeAge.key,A=(k.duration({minutes:30}),r(0)),w=m.a.BronzeAge.key,x=(A.duration({minutes:30}),r(0)),I=m.a.BronzeAge.key,E=(x.duration({minutes:30}),r(0)),F=m.a.BronzeAge.key,P=(E.duration({minutes:30}),r(0)),V=m.a.IronAge.key,M=(P.duration({hours:1,minutes:30}),r(0)),S=m.a.IronAge.key,T=(M.duration({hours:1,minutes:30}),r(0)),N=m.a.IronAge.key,O=(T.duration({hours:1,minutes:30}),r(0)),C=m.a.IronAge.key,H=(O.duration({hours:1,minutes:30}),r(0)),z=m.a.IronAge.key,j=(H.duration({hours:1,minutes:30}),r(0)),R=m.a.EarlyMiddleAges.key,B=(j.duration({hours:3,minutes:50}),r(0)),W=m.a.EarlyMiddleAges.key,L=(B.duration({hours:3,minutes:50}),r(0)),Q=m.a.EarlyMiddleAges.key,D=(L.duration({hours:3,minutes:50}),r(0)),U=m.a.EarlyMiddleAges.key,G=(D.duration({hours:3,minutes:50}),r(0)),J=m.a.EarlyMiddleAges.key,Z=(G.duration({hours:3,minutes:50}),r(0)),Y=m.a.HighMiddleAges.key,K=(Z.duration({hours:7,minutes:30}),r(0)),X=m.a.HighMiddleAges.key,tt=(K.duration({hours:7,minutes:30}),r(0)),et=m.a.HighMiddleAges.key,at=(tt.duration({hours:7,minutes:30}),r(0)),it=m.a.HighMiddleAges.key,ot=(at.duration({hours:7,minutes:30}),r(0)),nt=m.a.HighMiddleAges.key,ut=(ot.duration({hours:7,minutes:30}),r(0)),st=m.a.LateMiddleAges.key,lt=(ut.duration({hours:11,minutes:20}),r(0)),pt=m.a.LateMiddleAges.key,ht=(lt.duration({hours:11,minutes:20}),r(0)),ct=m.a.LateMiddleAges.key,ft=(ht.duration({hours:11,minutes:20}),r(0)),yt=m.a.LateMiddleAges.key,mt=(ft.duration({hours:11,minutes:20}),r(0)),gt=m.a.LateMiddleAges.key,vt=(mt.duration({hours:11,minutes:20}),r(0)),_t=m.a.ColonialAge.key,kt=(vt.duration({hours:13,minutes:30}),r(0)),bt=m.a.ColonialAge.key,$t=(kt.duration({hours:13,minutes:30}),r(0)),At=m.a.ColonialAge.key,wt=($t.duration({hours:13,minutes:30}),r(0)),xt=m.a.ColonialAge.key,qt=(wt.duration({hours:13,minutes:30}),r(0)),It=m.a.ColonialAge.key,Et=(qt.duration({hours:13,minutes:30}),r(0)),Ft=m.a.IndustrialAge.key,Pt=(Et.duration({hours:14,minutes:30}),r(0)),Vt=m.a.IndustrialAge.key,Mt=(Pt.duration({hours:14,minutes:30}),r(0)),St=m.a.IndustrialAge.key,Tt=(Mt.duration({hours:14,minutes:30}),r(0)),Nt=m.a.IndustrialAge.key,Ot=(Tt.duration({hours:14,minutes:30}),r(0)),Ct=m.a.IndustrialAge.key,Ht=(Ot.duration({hours:14,minutes:30}),r(0)),zt=m.a.ProgressiveEra.key,jt=(Ht.duration({hours:14,minutes:50}),r(0)),Rt=m.a.ProgressiveEra.key,Bt=(jt.duration({hours:14,minutes:50}),r(0)),Wt=m.a.ProgressiveEra.key,Lt=(Bt.duration({hours:14,minutes:50}),r(0)),Qt=m.a.ProgressiveEra.key,Dt=(Lt.duration({hours:14,minutes:50}),r(0)),Ut=m.a.ProgressiveEra.key,Gt=(Dt.duration({hours:14,minutes:50}),r(0)),Jt=m.a.ModernEra.key,Zt=(Gt.duration({hours:15}),r(0)),Yt=m.a.ModernEra.key,Kt=(Zt.duration({hours:15}),r(0)),Xt=m.a.ModernEra.key,te=(Kt.duration({hours:15}),r(0)),ee=m.a.ModernEra.key,ae=(te.duration({hours:15}),r(0)),re=m.a.ModernEra.key,ie=(ae.duration({hours:15}),r(0)),oe=m.a.PostmodernEra.key,ne=(ie.duration({hours:15}),r(0)),ue=m.a.PostmodernEra.key,se=(ne.duration({hours:15}),r(0)),le=m.a.PostmodernEra.key,de=(se.duration({hours:15}),r(0)),pe=m.a.PostmodernEra.key,he=(de.duration({hours:15}),r(0)),ce=m.a.PostmodernEra.key,fe=(he.duration({hours:15}),r(0)),ye=m.a.ContemporaryEra.key,me=(fe.duration({hours:15}),r(0)),ge=m.a.ContemporaryEra.key,ve=(me.duration({hours:15}),r(0)),_e=m.a.ContemporaryEra.key,ke=(ve.duration({hours:15}),r(0)),be=m.a.ContemporaryEra.key,$e=(ke.duration({hours:15}),r(0)),Ae=(m.a.ContemporaryEra.key,$e.duration({hours:15}),r(0)),we=(m.a.Tomorrow.key,Ae.duration({hours:15}),r(0)),xe=(m.a.Tomorrow.key,we.duration({hours:15}),r(0)),qe=(m.a.Tomorrow.key,xe.duration({hours:15}),r(0)),Ie=(m.a.Tomorrow.key,qe.duration({hours:15}),r(0)),Ee=(m.a.Tomorrow.key,Ie.duration({hours:15}),r(0)),Fe=(m.a.TheFuture.key,Ee.duration({hours:15}),r(0)),Pe=(m.a.TheFuture.key,Fe.duration({hours:15}),r(0)),Ve=(m.a.TheFuture.key,Pe.duration({hours:15}),r(0)),Me=(m.a.TheFuture.key,Ve.duration({hours:15}),r(0)),Se=(m.a.TheFuture.key,Me.duration({hours:15}),r(0)),Te=(m.a.ArcticFuture.key,Se.duration({hours:15}),r(0)),Ne=(m.a.ArcticFuture.key,Te.duration({hours:15}),r(0)),Oe=(m.a.ArcticFuture.key,Ne.duration({hours:15}),r(0)),Ce=(m.a.ArcticFuture.key,Oe.duration({hours:15}),r(0)),He=(m.a.ArcticFuture.key,Ce.duration({hours:15}),r(0)),ze=(m.a.OceanicFuture.key,He.duration({hours:15}),r(0)),je=(m.a.OceanicFuture.key,ze.duration({hours:15}),r(0)),Re=(m.a.OceanicFuture.key,je.duration({hours:15}),r(0)),Be=(m.a.OceanicFuture.key,Re.duration({hours:15}),r(0)),We=(m.a.OceanicFuture.key,Be.duration({hours:15}),r(0)),Le=(m.a.VirtualFuture.key,We.duration({hours:15}),r(0)),Qe=(m.a.VirtualFuture.key,Le.duration({hours:15}),r(0)),De=(m.a.VirtualFuture.key,Qe.duration({hours:15}),r(0)),Ue=(m.a.VirtualFuture.key,De.duration({hours:15}),r(0)),Ge=(m.a.VirtualFuture.key,Ue.duration({hours:15}),r(0)),Je=(m.a.SpaceAgeMars.key,Ge.duration({hours:2}),r(0)),Ze=(m.a.SpaceAgeMars.key,Je.duration({hours:2}),r(0)),Ye=(m.a.SpaceAgeMars.key,Ze.duration({hours:2}),r(0)),Ke=(m.a.SpaceAgeMars.key,Ye.duration({hours:2}),r(0)),Xe=(m.a.SpaceAgeMars.key,Ke.duration({hours:2}),r(0)),ta={BronzeAge:[{quantity:1,duration:Xe.duration({hours:4}),coins:100,supplies:100,unrefined:null},{quantity:2,duration:Xe.duration({hours:8}),coins:200,supplies:200,unrefined:null},{quantity:4,duration:Xe.duration({days:1}),coins:400,supplies:400,unrefined:null},{quantity:6,duration:Xe.duration({days:2}),coins:600,supplies:600,unrefined:null}],IronAge:[{quantity:1,duration:Xe.duration({hours:4}),coins:200,supplies:200,unrefined:null},{quantity:2,duration:Xe.duration({hours:8}),coins:400,supplies:400,unrefined:null},{quantity:4,duration:Xe.duration({days:1}),coins:800,supplies:800,unrefined:null},{quantity:6,duration:Xe.duration({days:2}),coins:1200,supplies:1200,unrefined:null}],EarlyMiddleAges:[{quantity:1,duration:Xe.duration({hours:4}),coins:400,supplies:400,unrefined:null},{quantity:2,duration:Xe.duration({hours:8}),coins:800,supplies:800,unrefined:null},{quantity:4,duration:Xe.duration({days:1}),coins:1600,supplies:1600,unrefined:null},{quantity:6,duration:Xe.duration({days:2}),coins:2400,supplies:2400,unrefined:null}],HighMiddleAges:[{quantity:1,duration:Xe.duration({hours:4}),coins:800,supplies:800,unrefined:null},{quantity:2,duration:Xe.duration({hours:8}),coins:1600,supplies:1600,unrefined:null},{quantity:4,duration:Xe.duration({days:1}),coins:3200,supplies:3200,unrefined:null},{quantity:6,duration:Xe.duration({days:2}),coins:4800,supplies:4800,unrefined:null}],LateMiddleAges:[{quantity:1,duration:Xe.duration({hours:4}),coins:1600,supplies:1600,unrefined:null},{quantity:2,duration:Xe.duration({hours:8}),coins:3200,supplies:3200,unrefined:null},{quantity:4,duration:Xe.duration({days:1}),coins:6400,supplies:6400,unrefined:null},{quantity:6,duration:Xe.duration({days:2}),coins:9600,supplies:9600,unrefined:null}],ColonialAge:[{quantity:1,duration:Xe.duration({hours:4}),coins:2400,supplies:2400,unrefined:null},{quantity:2,duration:Xe.duration({hours:8}),coins:4800,supplies:4800,unrefined:null},{quantity:4,duration:Xe.duration({days:1}),coins:9600,supplies:9600,unrefined:null},{quantity:6,duration:Xe.duration({days:2}),coins:14400,supplies:14400,unrefined:null}],IndustrialAge:[{quantity:1,duration:Xe.duration({hours:4}),coins:3200,supplies:3200,unrefined:null},{quantity:2,duration:Xe.duration({hours:8}),coins:6400,supplies:6400,unrefined:null},{quantity:4,duration:Xe.duration({days:1}),coins:12800,supplies:12800,unrefined:null},{quantity:6,duration:Xe.duration({days:2}),coins:19200,supplies:19200,unrefined:null}],ProgressiveEra:[{quantity:1,duration:Xe.duration({hours:4}),coins:4e3,supplies:4e3,unrefined:null},{quantity:2,duration:Xe.duration({hours:8}),coins:8e3,supplies:8e3,unrefined:null},{quantity:4,duration:Xe.duration({days:1}),coins:16e3,supplies:16e3,unrefined:null},{quantity:6,duration:Xe.duration({days:2}),coins:24e3,supplies:24e3,unrefined:null}],ModernEra:[{quantity:1,duration:Xe.duration({hours:4}),coins:2400,supplies:2400,unrefined:"ColonialAge"},{quantity:2,duration:Xe.duration({hours:8}),coins:4800,supplies:4800,unrefined:"ColonialAge"},{quantity:4,duration:Xe.duration({days:1}),coins:9600,supplies:9600,unrefined:"ColonialAge"},{quantity:6,duration:Xe.duration({days:2}),coins:14400,supplies:14400,unrefined:"ColonialAge"}],PostmodernEra:[{quantity:1,duration:Xe.duration({hours:4}),coins:2800,supplies:2800,unrefined:"IndustrialAge"},{quantity:2,duration:Xe.duration({hours:8}),coins:5600,supplies:5600,unrefined:"IndustrialAge"},{quantity:4,duration:Xe.duration({days:1}),coins:11200,supplies:11200,unrefined:"IndustrialAge"},{quantity:6,duration:Xe.duration({days:2}),coins:16800,supplies:16800,unrefined:"IndustrialAge"}],ContemporaryEra:[{quantity:1,duration:Xe.duration({hours:4}),coins:3200,supplies:3200,unrefined:"ProgressiveEra"},{quantity:2,duration:Xe.duration({hours:8}),coins:6400,supplies:6400,unrefined:"ProgressiveEra"},{quantity:4,duration:Xe.duration({days:1}),coins:12800,supplies:12800,unrefined:"ProgressiveEra"},{quantity:6,duration:Xe.duration({days:2}),coins:19200,supplies:19200,unrefined:"ProgressiveEra"}],Tomorrow:[{quantity:1,duration:Xe.duration({hours:4}),coins:3600,supplies:3600,unrefined:"ModernEra"},{quantity:2,duration:Xe.duration({hours:8}),coins:7200,supplies:7200,unrefined:"ModernEra"},{quantity:4,duration:Xe.duration({days:1}),coins:14400,supplies:14400,unrefined:"ModernEra"},{quantity:6,duration:Xe.duration({days:2}),coins:21600,supplies:21600,unrefined:"ModernEra"}],TheFuture:[{quantity:1,duration:Xe.duration({hours:4}),coins:4e3,supplies:4e3,unrefined:"PostmodernEra"},{quantity:2,duration:Xe.duration({hours:8}),coins:8e3,supplies:8e3,unrefined:"PostmodernEra"},{quantity:4,duration:Xe.duration({days:1}),coins:16e3,supplies:16e3,unrefined:"PostmodernEra"},{quantity:6,duration:Xe.duration({days:2}),coins:24e3,supplies:24e3,unrefined:"PostmodernEra"}],ArcticFuture:[{quantity:1,duration:Xe.duration({hours:4}),coins:4500,supplies:4500,unrefined:"ContemporaryEra"},{quantity:2,duration:Xe.duration({hours:8}),coins:9e3,supplies:9e3,unrefined:"ContemporaryEra"},{quantity:4,duration:Xe.duration({days:1}),coins:18e3,supplies:18e3,unrefined:"ContemporaryEra"},{quantity:6,duration:Xe.duration({days:2}),coins:27e3,supplies:27e3,unrefined:"ContemporaryEra"}],OceanicFuture:[{quantity:1,duration:Xe.duration({hours:4}),coins:4500,supplies:4500,unrefined:"Tomorrow"},{quantity:2,duration:Xe.duration({hours:8}),coins:9e3,supplies:9e3,unrefined:"Tomorrow"},{quantity:4,duration:Xe.duration({days:1}),coins:18e3,supplies:18e3,unrefined:"Tomorrow"},{quantity:6,duration:Xe.duration({days:2}),coins:27e3,supplies:27e3,unrefined:"Tomorrow"}],VirtualFuture:[{quantity:1,duration:Xe.duration({hours:4}),coins:6e3,supplies:6e3,unrefined:"TheFuture"},{quantity:2,duration:Xe.duration({hours:8}),coins:12e3,supplies:12e3,unrefined:"TheFuture"},{quantity:4,duration:Xe.duration({days:1}),coins:24e3,supplies:24e3,unrefined:"TheFuture"},{quantity:6,duration:Xe.duration({days:2}),coins:36e3,supplies:36e3,unrefined:"TheFuture"}],SpaceAgeMars:[{quantity:3,duration:Xe.duration({hours:4}),coins:96e3,supplies:96e3,unrefined:null},{quantity:6,duration:Xe.duration({hours:8}),coins:192e3,supplies:192e3,unrefined:null},{quantity:12,duration:Xe.duration({days:1}),coins:384e3,supplies:384e3,unrefined:null},{quantity:18,duration:Xe.duration({days:2}),coins:576e3,supplies:576e3,unrefined:null}]},ea=r(6);function aa(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return ra(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ra(t,e)}(t))){var i=0,e=function(){};return{s:e,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,n=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return n=t.done,t},e:function(t){l=!0,o=t},f:function(){try{n||null==r.return||r.return()}finally{if(l)throw o}}}}function ra(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function ia(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var oa=function(t){Object(h.a)(o,t);var e,r=(e=o,function(){var t,r=Object(d.a)(e);if(ia()){var o=Object(d.a)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Object(l.a)(this,t)});function o(){return Object(n.a)(this,o),r.apply(this,arguments)}return o}(c.Enum);function na(t){var e,r=0;do{r+=((e=0===r?t:ta[e.unrefined][0]).coins+e.supplies)/e.quantity}while(null!==e.unrefined);return r}oa.initEnum(["SIMPLE","FAIR"]);var ua={SIMPLE:function(){var t={};for(var e in ta){t[e]={};var r=Object.keys(ta).indexOf(e);for(var o in ta){var n=Object.keys(ta).indexOf(o);t[e][o]=n===r-1?2:n===r+1?.5:n===r?1:0}}return t}(),FAIR:function(){var t={};for(var e in ta)for(var r in t[e]={},ta)t[e][r]=na(ta[e][0])/na(ta[r][0]);return t}()};function sa(t,e){var r=[];for(var o in t[e])t[e][o]>=.5&&t[e][o]<=2&&r.push({key:o,cost:t[e][o]});return r}function la(t,e,r){var o=[],n=r;do{o.push(t[n].key),n=t[n].parent}while(n!==e);return e!==r&&o.push(e),o}function da(t,e,r,o){for(var n=function(t,e,r){var o=Object.keys(ua[t.name]),n=o.indexOf(e),l=o.indexOf(r),d=new y.a({comparator:function(u,t){return n<l?u.cost<t.cost?-1:u.cost>t.cost?1:0:u.cost>t.cost?-1:1}});d.queue({key:e,cost:0});var h,c={};if(n===l)return c[r]={key:r,cost:1,parent:r},la(c,e,r);do{if((h=d.dequeue()).key===r)return la(c,e,r);var f,m=aa(sa(ua[t.name],h.key));try{for(m.s();!(f=m.n()).done;){var v=f.value;Object.keys(c).indexOf(v.key)<0&&(d.queue({key:v.key,cost:v.cost+h.cost}),c[v.key]={key:v.key,cost:v.cost+h.cost,parent:h.key})}}catch(t){m.e(t)}finally{m.f()}}while(0!==d.length)}(t,e,r),l=[{key:n[0],amount:o}],i=1;i<n.length;i++)l.push({key:n[i],amount:Math.ceil(l[i-1].amount*ua[t.name][n[i-1]][n[i]])});return l.reverse()}function pa(t,e,r){if("number"!=typeof r)throw new ea.g({expected:"number",actual:Object(o.a)(r),additionalMessage:'for parameter "'.concat(t,'" of ').concat(e)});if(r<=0)throw new ea.b({type:ea.a["<="],value:r,boundValue:0,additionalMessage:'for parameter "'.concat(t,'" of ').concat(e)})}function ha(t,e,r){var o=Object.keys(m.a).slice(1);if(o.indexOf(r)<0)throw new ea.g({expected:o,actual:r,additionalMessage:'for parameter "'.concat(t,'" of ').concat(e)})}function ca(t,e,r,o){var n="splitGoods(toValue, splitValue, ratioFromTo, ratioToFrom)";pa("toValue",n,t),pa("splitValue",n,e),pa("ratioFromTo",n,r),pa("ratioToFrom",n,o);var l=Math.ceil(t*o),d=r<1?l:t,h=[];d<=e?h.push({from:l,to:t,count:1}):h.push({from:l===d?e:Math.round(e*o),to:t===d?e:Math.ceil(e*r),count:Math.floor(d/e)});var c=t-h[0].to*h[0].count;return c<=0?h.push({from:0,to:0}):h.push({from:Math.round(c*o),to:c}),h}function fa(t,e,r,n,l){var d="getBestOffersSplitted(tradeInput, iHave, iWant, amount, splitValue)";if(!(t instanceof oa))throw new ea.g({expected:"TradeArray",actual:Object(o.a)(t),additionalMessage:'for parameter "tradeInput" of '.concat(d)});ha("iHave",d,e),ha("iWant",d,r),pa("amount",d,n),pa("splitValue",d,l);var h=da(t,e,r,n);if(1===h.length)return h[0].split=ca(1e3,l,1,1),h;for(var i=h.length-2;i>=0;i--)if(h[i].split=ca(h[i+1].amount,l,ua[t.name][h[i].key][h[i+1].key],ua[t.name][h[i+1].key][h[i].key]),h[i].split instanceof Array){var c=0;h[i].split.map((function(t){return{value:t.from,count:t.count?t.count:1}})).reduce((function(t,e){void 0!==t&&(c+=t.value*t.count),c+=e.value*e.count})),h[i].amount=c}return h}var ya=ua.FAIR,ma=ua.SIMPLE,ga=oa},442:function(t,e,r){"use strict";r(88),r(16),r(10);var o=r(2),n=r(3),l=r(416),d=r(375),h=r(70),c={},f={name:"SimpleTrade",props:{tradeArray:{type:Object,required:!0}},data:function(){var data={i18nPrefix:"components.simple_trade.",agesGoods:c=this.$store.get("foe/goods@agesGoods"),value:0,values:{},currentAge:null,results:{},split:!1,splitValueId:"splitValue"+this._uid,splitValue:1e3,maxSplitValue:1e3,showRatio:!1,errors:{splitValue:!1}};for(var t in c)data.values[t]=0,data.results[t]={show:!1,value:0,ratio:0,split:""};return data},watch:{split:function(){this.$data.splitValue=1e3,this.compute()},splitValue:function(t){n.a.inRange(t,0,1e3)?(this.$data.errors.splitValue=!1,this.compute()):this.$data.errors.splitValue=!0}},methods:{resetForm:function(t){for(var e in c)t!==e&&o.a.set(this.$data.values,e,0),this.$data.results[e]={show:!1,value:0,ratio:0,split:""}},resetFormIfAllZero:function(t){for(var e in c)if(this.$data.values[e]>0)return;this.resetForm(t)},haveError:function(t){return t in d.a?this.$data.values[t]>1e3?"is-warning":void 0:this.$data.errors[t]?"is-danger":""},compute:function(){var t=this.$data.currentAge;for(var e in this.$props.tradeArray[t])if(n.a.inRange(this.$props.tradeArray[t][e],.5,2)){var r=Math.round(this.$props.tradeArray[t][e]*this.$data.values[t]),d=r;this.$data.split&&(d=0===(d=Object(l.e)(n.a.normalizeNumberValue(this.$data.values[t]),n.a.normalizeNumberValue(this.$data.splitValue,1e3),this.$props.tradeArray[t][e],this.$props.tradeArray[e][t]))[1].from?this.$t("components.trade.split_message.common",{count:this.$formatNumber(d[0].count),valueFrom:this.$formatNumber(d[0].from),ageFrom:this.$t("foe_data.age_short."+t),valueTo:this.$formatNumber(d[0].to),ageTo:this.$t("foe_data.age_short."+e)}):this.$t("components.trade.split_message.multi",{count:this.$formatNumber(d[0].count),valueFrom:this.$formatNumber(d[0].from),ageFrom:this.$t("foe_data.age_short."+t),valueTo:this.$formatNumber(d[0].to),ageTo:this.$t("foe_data.age_short."+e),valueFromSingle:this.$formatNumber(d[1].from),valueToSingle:this.$formatNumber(d[1].to)})),o.a.set(this.$data.results[e],"show",!0),this.$data.results[e].value=this.$formatNumber(r),this.$data.results[e].split=d,this.$data.results[e].ratio=n.a.roundTo(this.$props.tradeArray[t][e],2)}},getBestRates:function(t){this.resetForm(t),this.$data.currentAge=t,this.compute()}},components:{YesNo:h.a}},y=r(14),component=Object(y.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h4",{staticClass:"title is-4 margin-top-one-em"},[t._v(t._s(t.$t(t.i18nPrefix+"title")))]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("yes-no",{attrs:{label:t.$t(t.i18nPrefix+"slpit")},model:{value:t.split,callback:function(e){t.split=e},expression:"split"}}),r("yes-no",{attrs:{label:t.$t(t.i18nPrefix+"show_ratio")},model:{value:t.showRatio,callback:function(e){t.showRatio=e},expression:"showRatio"}})],1),r("div",{staticClass:"column is-half"},[r("b-field",{directives:[{name:"show",rawName:"v-show",value:t.split,expression:"split"}],attrs:{label:t.$t("components.trade.split_value",{count:t.maxSplitValue}),"label-for":t.splitValueId,type:t.haveError("splitValue")}},[r("b-input",{attrs:{id:t.splitValueId,type:"number",min:"0",max:t.maxSplitValue,name:"splitValue",autocomplete:"off"},model:{value:t.splitValue,callback:function(e){t.splitValue=t._n(e)},expression:"splitValue"}})],1)],1)]),r("div",{staticClass:"table-wrapper"},[r("table",{staticClass:"table is-bordered is-striped is-narrow is-fullwidth trade"},[r("thead",[r("tr",[r("th",[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.th1")))]),r("th",[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.th2")))]),r("th",[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.th3")))]),r("th",[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.th4")))]),r("th",{directives:[{name:"show",rawName:"v-show",value:t.showRatio,expression:"showRatio"}]},[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.ratio")))]),r("th",{directives:[{name:"show",rawName:"v-show",value:t.split,expression:"split"}]},[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.split")))])])]),r("tbody",t._l(t.agesGoods,(function(e,o){return r("tr",{key:o},[r("td",[t._v(t._s(t.$t("foe_data.age."+o)))]),r("td",{staticClass:"has-text-centered"},t._l(e.goods,(function(e){return r("figure",{staticClass:"image-inherit image is-24x24"},[r("img",{attrs:{src:"/img/foe/goods/"+e.key+".png",alt:t.$t("foe_data.goods."+e.key),title:t.$t("foe_data.goods."+e.key)}})])})),0),r("td",[r("b-field",{attrs:{type:t.haveError(o)}},[r("b-input",{attrs:{type:"number",min:"0",name:o+"_value",autocomplete:"off"},on:{input:function(e){e>0?t.getBestRates(o):t.resetFormIfAllZero(o)}},model:{value:t.values[o],callback:function(e){t.$set(t.values,o,t._n(e))},expression:"values[key]"}})],1)],1),r("td",[t.$data.results[o].show?r("p",[t._v(t._s(t.$data.results[o].value))]):t._e()]),r("td",{directives:[{name:"show",rawName:"v-show",value:t.showRatio,expression:"showRatio"}]},[r("p",[t._v(t._s(t.$data.results[o].ratio))])]),r("td",{directives:[{name:"show",rawName:"v-show",value:t.split,expression:"split"}]},[t.$data.results[o].show?r("p",[t._v(t._s(t.$data.results[o].split))]):t._e()])])})),0)])])])}),[],!1,null,null,null);e.a=component.exports},443:function(t,e,r){"use strict";r(16),r(10),r(30);var o=r(2),n=r(416),l=r(3),d={name:"trade",props:{tradeInput:{type:Object,required:!0}},data:function(){var t=Object.keys(this.$props.tradeInput.value)[0];return{i18nPrefix:"components.trade.",iHave:t,iWant:t,iHaveId:"iHave"+this._uid,iWantId:"iWant"+this._uid,splitValueId:"splitValue"+this._uid,splitValue:1e3,maxSplitValue:1e3,valueId:"iWantValue"+this._uid,value:0,result:[],errors:{iHave:!1,iWant:!1,splitValue:!1,value:!1},warnings:{iHave:!1,iWant:!1,splitValue:!1,value:!1}}},watch:{iHave:function(t){Object.keys(this.$props.tradeInput.value).indexOf(t)>=0?(this.$data.errors.iHave=!1,this.compute()):this.$data.errors.iHave=!0},iWant:function(t){Object.keys(this.$props.tradeInput.value).indexOf(t)>=0?(this.$data.errors.iWant=!1,this.compute()):this.$data.errors.iWant=!0},splitValue:function(t){t&&"number"!=typeof t&&t.length>0?this.$data.errors.splitValue=!0:l.a.inRange(t&&0!==t.length?t:0,1,1e3)?(this.$data.errors.splitValue=!1,this.compute()):this.$data.errors.splitValue=!0},value:function(t){if(t&&"number"!=typeof t&&t.length>0)this.$data.errors.value=!0;else{var e=t&&0!==t.length?t:0;e>=0?(e<=1e3?(this.$data.errors.value=!1,this.$data.warnings.value=!1):(this.$data.errors.value=!1,this.$data.warnings.value=!0),this.compute()):this.$data.errors.value=!0}}},methods:{haveError:function(t){return this.$data.errors[t]?"is-danger":this.$data.warnings[t]?"is-warning":""},compute:function(){0===l.a.normalizeNumberValue(this.$data.value)||0===l.a.normalizeNumberValue(this.$data.splitValue)?o.a.set(this.$data,"result",[]):o.a.set(this.$data,"result",Object(n.c)(this.$props.tradeInput.type,this.$data.iHave,this.$data.iWant,l.a.normalizeNumberValue(this.$data.value),l.a.normalizeNumberValue(this.$data.splitValue)))}}},h=r(14),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h4",{staticClass:"title is-4"},[t._v(t._s(t.$t(t.i18nPrefix+"title")))]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"label.i_have"),"label-for":t.iHaveId}},[r("b-select",{attrs:{id:t.iHaveId,expanded:""},model:{value:t.iHave,callback:function(e){t.iHave=e},expression:"iHave"}},t._l(t.tradeInput.value,(function(e,o){return r("option",{key:o,domProps:{value:o}},[t._v(t._s(t.$t("foe_data."+(t.tradeInput.age?"age":"goods")+"."+o)))])})),0)],1)],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"split_value",{count:t.maxSplitValue}),"label-for":t.splitValueId,type:t.haveError("splitValue")}},[r("b-input",{attrs:{id:t.splitValueId,type:"number",min:"0",max:t.maxSplitValue,name:"splitValue",autocomplete:"off"},model:{value:t.splitValue,callback:function(e){t.splitValue=t._n(e)},expression:"splitValue"}})],1)],1)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"label.i_want"),"label-for":t.iWantId}},[r("b-select",{attrs:{id:t.iWantId,expanded:""},model:{value:t.iWant,callback:function(e){t.iWant=e},expression:"iWant"}},t._l(t.tradeInput.value,(function(e,o){return r("option",{key:o,domProps:{value:o}},[t._v(t._s(t.$t("foe_data."+(t.tradeInput.age?"age":"goods")+"."+o)))])})),0)],1)],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"label.amount"),type:t.haveError("value"),"label-for":t.valueId}},[r("b-input",{attrs:{id:t.valueId,type:"number",min:"0",name:t.valueId,autocomplete:"off"},model:{value:t.value,callback:function(e){t.value=t._n(e)},expression:"value"}})],1)],1)]),t.result.length>0?r("p",[t._v(t._s(t.$t(t.i18nPrefix+"message.result",{from:t.$formatNumber(t.result[0].amount),to:t.$formatNumber(t.value),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age":"goods")+"."+t.iHave),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age":"goods")+"."+t.iWant),count:t.splitValue})))]):t._e(),t.result.length>1?r("ul",t._l(t.result,(function(e,o){return o<t.result.length-1?r("li",{key:o},[e.split[1].from>0?r("span",[t._v(t._s(t.$t(t.i18nPrefix+"split_message.multi",{count:t.$formatNumber(e.split[0].count),valueFrom:t.$formatNumber(e.split[0].from),valueTo:t.$formatNumber(e.split[0].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+e.key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[o+1].key),valueFromSingle:t.$formatNumber(e.split[1].from),valueToSingle:t.$formatNumber(e.split[1].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+e.key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[o+1].key)}))+" "+t._s(t.$t(t.i18nPrefix+"message.total",{amount:t.$formatNumber(e.amount),key:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+e.key)})))]):r("span",[t._v(t._s(t.$t(t.i18nPrefix+"split_message.common",{count:t.$formatNumber(e.split[0].count),valueFrom:t.$formatNumber(e.split[0].from),valueTo:t.$formatNumber(e.split[0].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+e.key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[o+1].key),valueFromSingle:t.$formatNumber(e.split[1].from),valueToSingle:t.$formatNumber(e.split[1].to)}))+" "+t._s(t.$t(t.i18nPrefix+"message.total",{amount:t.$formatNumber(e.amount),key:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+e.key)})))])]):t._e()})),0):t._e(),1===t.result.length?r("ul",[r("li",[t.result[0].split[1].from>0?r("span",[t._v(t._s(t.$t(t.i18nPrefix+"split_message.multi",{count:t.$formatNumber(t.result[0].split[0].count),valueFrom:t.$formatNumber(t.result[0].split[0].from),valueTo:t.$formatNumber(t.result[0].split[0].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key),valueFromSingle:t.$formatNumber(t.result[0].split[1].from),valueToSingle:t.$formatNumber(t.result[0].split[1].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key)}))+" "+t._s(t.$t(t.i18nPrefix+"message.total",{amount:t.$formatNumber(t.result[0].amount),key:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key)})))]):r("span",[t._v(t._s(t.$t(t.i18nPrefix+"split_message.common",{count:t.$formatNumber(t.result[0].split[0].count),valueFrom:t.$formatNumber(t.result[0].split[0].from),valueTo:t.$formatNumber(t.result[0].split[0].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key),valueFromSingle:t.$formatNumber(t.result[0].split[1].from),valueToSingle:t.$formatNumber(t.result[0].split[1].to)}))+" "+t._s(t.$t(t.i18nPrefix+"message.total",{amount:t.$formatNumber(t.result[0].amount),key:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key)})))])])]):t._e()])}),[],!1,null,null,null);e.a=component.exports},726:function(t,e,r){t.exports=function t(e,r,o){function s(n,u){if(!r[n]){if(!e[n]){if(i)return i(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var d=r[n]={exports:{}};e[n][0].call(d.exports,(function(t){var r=e[n][1][t];return s(r||t)}),d,d.exports,t,e,r,o)}return r[n].exports}for(var i=!1,n=0;n<o.length;n++)s(o[n]);return s}({1:[function(t,e,r){var o,n,l,d,h,c={}.hasOwnProperty;o=t("./PriorityQueue/AbstractPriorityQueue"),n=t("./PriorityQueue/ArrayStrategy"),d=t("./PriorityQueue/BinaryHeapStrategy"),l=t("./PriorityQueue/BHeapStrategy"),(h=function(t){function e(t){t||(t={}),t.strategy||(t.strategy=d),t.comparator||(t.comparator=function(a,b){return(a||0)-(b||0)}),e.__super__.constructor.call(this,t)}return function(t,e){for(var r in e)c.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(e,t),e}(o)).ArrayStrategy=n,h.BinaryHeapStrategy=d,h.BHeapStrategy=l,e.exports=h},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(t,e,r){e.exports=function(){function t(t){var e;if(null==(null!=t?t.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=t?t.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new t.strategy(t),this.length=(null!=t&&null!=(e=t.initialValues)?e.length:void 0)||0}return t.prototype.queue=function(t){this.length++,this.priv.queue(t)},t.prototype.dequeue=function(t){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},t.prototype.peek=function(t){if(!this.length)throw"Empty queue";return this.priv.peek()},t.prototype.clear=function(){return this.length=0,this.priv.clear()},t}()},{}],3:[function(t,e,r){var o;o=function(t,e,r){var o,n,l;for(n=0,o=t.length;n<o;)r(t[l=n+o>>>1],e)>=0?n=l+1:o=l;return n},e.exports=function(){function t(t){var e;this.options=t,this.comparator=this.options.comparator,this.data=(null!=(e=this.options.initialValues)?e.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return t.prototype.queue=function(t){var e;e=o(this.data,t,this.comparator),this.data.splice(e,0,t)},t.prototype.dequeue=function(){return this.data.pop()},t.prototype.peek=function(){return this.data[this.data.length-1]},t.prototype.clear=function(){this.data.length=0},t}()},{}],4:[function(t,e,r){e.exports=function(){function t(t){var e,r,o,n,l,d,h,c;for(this.comparator=(null!=t?t.comparator:void 0)||function(a,b){return a-b},this.pageSize=(null!=t?t.pageSize:void 0)||512,this.length=0,h=0;1<<h<this.pageSize;)h+=1;if(1<<h!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=h,this._emptyMemoryPageTemplate=e=[],r=0,l=this.pageSize;0<=l?r<l:r>l;0<=l?++r:--r)e.push(null);if(this._memory=[],this._mask=this.pageSize-1,t.initialValues)for(o=0,n=(d=t.initialValues).length;o<n;o++)c=d[o],this.queue(c)}return t.prototype.queue=function(t){this.length+=1,this._write(this.length,t),this._bubbleUp(this.length,t)},t.prototype.dequeue=function(){var t,e;return t=this._read(1),e=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,e),this._bubbleDown(1,e)),t},t.prototype.peek=function(){return this._read(1)},t.prototype.clear=function(){this.length=0,this._memory.length=0},t.prototype._write=function(t,e){var r;for(r=t>>this._shift;r>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[r][t&this._mask]=e},t.prototype._read=function(t){return this._memory[t>>this._shift][t&this._mask]},t.prototype._bubbleUp=function(t,e){var r,o,n,l;for(r=this.comparator;t>1&&(o=t&this._mask,t<this.pageSize||o>3?n=t&~this._mask|o>>1:o<2?(n=t-this.pageSize>>this._shift,n+=n&~(this._mask>>1),n|=this.pageSize>>1):n=t-2,!(r(l=this._read(n),e)<0));)this._write(n,e),this._write(t,l),t=n},t.prototype._bubbleDown=function(t,e){var r,o,n,l,d;for(d=this.comparator;t<this.length;)if(t>this._mask&&!(t&this._mask-1)?r=o=t+2:t&this.pageSize>>1?(r=(t&~this._mask)>>1,o=1+(r=1+(r|=t&this._mask>>1)<<this._shift)):o=(r=t+(t&this._mask))+1,r!==o&&o<=this.length)if(n=this._read(r),l=this._read(o),d(n,e)<0&&d(n,l)<=0)this._write(r,e),this._write(t,n),t=r;else{if(!(d(l,e)<0))break;this._write(o,e),this._write(t,l),t=o}else{if(!(r<=this.length))break;if(!(d(n=this._read(r),e)<0))break;this._write(r,e),this._write(t,n),t=r}},t}()},{}],5:[function(t,e,r){e.exports=function(){function t(t){var e;this.comparator=(null!=t?t.comparator:void 0)||function(a,b){return a-b},this.length=0,this.data=(null!=(e=t.initialValues)?e.slice(0):void 0)||[],this._heapify()}return t.prototype._heapify=function(){var i,t,e;if(this.data.length>0)for(i=t=1,e=this.data.length;1<=e?t<e:t>e;i=1<=e?++t:--t)this._bubbleUp(i)},t.prototype.queue=function(t){this.data.push(t),this._bubbleUp(this.data.length-1)},t.prototype.dequeue=function(){var t,e;return e=this.data[0],t=this.data.pop(),this.data.length>0&&(this.data[0]=t,this._bubbleDown(0)),e},t.prototype.peek=function(){return this.data[0]},t.prototype.clear=function(){this.length=0,this.data.length=0},t.prototype._bubbleUp=function(t){for(var e,r;t>0&&(e=t-1>>>1,this.comparator(this.data[t],this.data[e])<0);)r=this.data[e],this.data[e]=this.data[t],this.data[t]=r,t=e},t.prototype._bubbleDown=function(t){var e,r,o,n,l;for(e=this.data.length-1;n=1+(r=1+(t<<1)),o=t,r<=e&&this.comparator(this.data[r],this.data[o])<0&&(o=r),n<=e&&this.comparator(this.data[n],this.data[o])<0&&(o=n),o!==t;)l=this.data[o],this.data[o]=this.data[t],this.data[t]=l,t=o},t}()},{}]},{},[1])(1)}}]);